- if @coupon.errors.any?
  #error_explanation
    %h2
      = pluralize(@coupon.errors.count, "error")
      prohibited this coupon from being saved:
    %ul
      - @coupon.errors.full_messages.each do |msg|
        %li= msg
.mdl-textfield.mdl-js-textfield
  = f.text_field :code, class: 'mdl-textfield__input'
  = f.label :code, class: 'mdl-textfield__label'
.mdl-textfield.mdl-js-textfield
  = f.text_field :amount, class: 'mdl-textfield__input', pattern: '-?[0-9]*(\.[0-9]+)?'
  = f.label :amount, class: 'mdl-textfield__label'
  %span.mdl-textfield__error Input is not a number!
.mdl-textfield.mdl-js-textfield
  = f.text_field :minimum_value, class: 'mdl-textfield__input', pattern: '-?[0-9]*(\.[0-9]+)?'
  = f.label :minimum_value, class: 'mdl-textfield__label'
  %span.mdl-textfield__error Input is not a number!
.mdl-textfield.mdl-js-textfield
  = f.text_field :percent, class: 'mdl-textfield__input', pattern: '-?[0-9]*(\.[0-9]+)?'
  = f.label :percent, class: 'mdl-textfield__label'
  %span.mdl-textfield__error Input is not a number!
.mdl-textfield.mdl-js-textfield
  = f.text_area :description, class: 'mdl-textfield__input'
  = f.label :description, class: 'mdl-textfield__label'
= f.label :combine, class: 'mdl-switch mdl-js-switch.mdl-js-ripple-effect' do
  = f.check_box :combine, class: 'mdl-switch__input'
  %span.mdl-switch__label :combine

%fieldset
  - unless @coupon.id
    %label Type
    = select_tag :c_type, @coupon_types.map{|ct| "<option>#{ct}</option>"}.join().html_safe , { :include_blank => true }

  %label Combine
  = f.check_box :combine
  %label Starts at
  .date-select
    = f.date_select :starts_at
  %label Expires at
  .date-select
    = f.date_select :expires_at
= f.submit "Create", :class => "button"